# Пояснительная записка к программе "TREUGOLNIK"

## Назначение программы

Программа **"TREUGOLNIK"** (Треугольник) предназначена для:
- Проверки существования треугольника по трем заданным сторонам
- Вычисления площади треугольника по формуле Герона
- Обеспечения безопасного ввода данных с обработкой ошибок

## Структура программы

### Используемые модули
- **CRT** - для работы с цветным текстом и очистки экрана

### Переменные программы

| Переменная | Тип | Назначение |
|------------|-----|------------|
| `A, B, C` | Real | Длины сторон треугольника |
| `S` | Real | Площадь треугольника |
| `P` | Real | Полупериметр треугольника |
| `E` | Boolean | Флаг существования треугольника |
| `ErrorCode` | Integer | Код ошибки при преобразовании строки в число |
| `InputStr` | String | Буфер для ввода данных |

### Функция SafeReadReal

```pascal
Function SafeReadReal(Prompt: string): Real;
```

**Назначение**: Безопасный ввод вещественного числа с защитой от ошибок формата.

**Алгоритм работы**:
1. Выводит приглашение к вводу
2. Считывает строку с клавиатуры
3. Пытается преобразовать строку в число с помощью `Val`
4. Если преобразование неудачно (ErrorCode ≠ 0), выводит сообщение об ошибке и повторяет ввод
5. Возвращает корректное числовое значение

## Основной алгоритм

### 1. Ввод данных
```pascal
A := SafeReadReal('Ввод стороны A.....');
B := SafeReadReal('Ввод стороны B.....');
C := SafeReadReal('Ввод стороны C.....');
```
Используется защищенный ввод для предотвращения ошибки `106 - Invalid numeric format`.

### 2. Проверка существования треугольника
Условия существования треугольника:
- Все стороны должны быть положительными: `A > 0, B > 0, C > 0`
- Должно выполняться неравенство треугольника для каждой стороны:
  - `A < B + C`
  - `B < A + C`
  - `C < A + B`

### 3. Вычисление площади
Если треугольник существует:
```pascal
P := (A + B + C) / 2;  { Полупериметр }
S := SQRT(P * (P - A) * (P - B) * (P - C));  { Формула Герона }
```

**Дополнительные проверки**:
- Проверка положительности всех множителей под корнем
- Защита от вычисления квадратного корня из отрицательного числа

### 4. Вывод результатов
- **Успешный расчет**: Вывод площади с желтым цветом текста
- **Ошибка**: Сообщение о невозможности вычисления площади или несуществовании треугольника с красным цветом текста

## Особенности реализации

### Защита от ошибок ввода
- Использование функции `Val` вместо прямого `ReadLn` для числовых данных
- Цикличный запрос ввода до получения корректных данных
- Визуальная обратная связь при ошибках ввода

### Визуальное оформление
- Цветовое кодирование сообщений:
  - Зеленый - приглашения к вводу
  - Красный - сообщения об ошибках
  - Желтый - результаты вычислений
  - Белый/серый - разделители и стандартный текст

### Обработка граничных случаев
- Проверка на положительность сторон
- Проверка выполнения неравенства треугольника
- Контроль корректности математических операций

## Математическая основа

### Формула Герона
```
S = √(p × (p - a) × (p - b) × (p - c))
где p = (a + b + c) / 2
```

### Условия существования треугольника
Для любых трех отрезков с длинами a, b, c треугольник существует тогда и только тогда, когда:
1. a > 0, b > 0, c > 0
2. a < b + c
3. b < a + c  
4. c < a + b

## Тестовые примеры

### Корректный треугольник
```
Ввод стороны A.....3
Ввод стороны B.....4
Ввод стороны C.....5
Площадь треугольника: 6.00
```

### Некорректные данные
```
Ввод стороны A.....abc
Ошибка! Введите число.
Ввод стороны A.....1
Ввод стороны B.....2
Ввод стороны C.....10
Треугольник не существует!
```

## Возможные улучшения

1. Добавление проверки на вырожденный треугольник
2. Определение типа треугольника (равносторонний, равнобедренный, прямоугольный)
3. Вычисление дополнительных параметров (периметр, углы)
4. Графическое отображение треугольника
5. Сохранение результатов в файл

Программа демонстрирует хорошие практики программирования: модульность, обработка ошибок, удобный интерфейс пользователя.